# Render Blueprint
# This file defines services for Render deployment
# Learn more: https://render.com/docs/blueprint-spec

services:
  # Web Service for the PHP Application
  - type: web
    name: tire-fitment-finder
    runtime: php
    plan: free  # Change to 'starter' or 'standard' for production
    region: oregon  # Change to your preferred region
    buildCommand: ""  # No build needed for PHP
    startCommand: php -S 0.0.0.0:$PORT -t public
    envVars:
      - key: PHP_VERSION
        value: 8.2
      # Database: for PostgreSQL on Render, set DATABASE_URL to your DB's "Internal Database URL" (Connect menu)
      # Optional: or set DB_TYPE=pgsql and DB_HOST, DB_NAME, DB_USER, DB_PASS, DB_PORT (5432)
      - key: DATABASE_URL
        sync: false  # From Postgres service: Connect -> Internal Database URL
      - key: DB_HOST
        sync: false
      - key: DB_NAME
        value: tire_shop
      - key: DB_USER
        sync: false
      - key: DB_PASS
        sync: false
      - key: DB_PORT
        value: "5432"

  # PostgreSQL Database (Optional - use if you want Render-managed database)
  # Note: Requires SQL schema modifications for PostgreSQL compatibility
  # - type: pspg
  #   name: tire-fitment-db
  #   plan: free
  #   databaseName: tire_shop
  #   user: tire_user
